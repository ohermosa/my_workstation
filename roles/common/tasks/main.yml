---

- import_tasks: update_packages.yml
  tags:
    - common
    - update_packages
    - install_packages
    - ansible
    - python
    - python3

- import_tasks: selinux.yml
  when: ansible_distribution == "Fedora"
  tags:
    - common
    - disable_selinux

- import_tasks: install_packages.yml
  tags:
    - common
    - install_packages

- import_tasks: ansible.yml
  tags:
    - common
    - ansible

- import_tasks: python.yml
  tags:
    - common
    - python
    - python3

- import_tasks: delete_snap.yml
  when: ansible_distribution == "Ubuntu" and ansible_distribution_major_version >= "18"
  tags:
    - common
    - delete_snap

- name: "Configure /etc/hosts"
  lineinfile:
    path: /etc/hosts
    line: "{{ item.ip }}\t\t{{ item.host }}"
  loop: "{{ etc_hosts }}"
  tags:
    - common
    - resolv

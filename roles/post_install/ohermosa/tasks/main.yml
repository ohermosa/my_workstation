---

- name: "[UBUNTU] Install several theme packages"
  apt:
    name:
      - arc-theme
      - elementary-icon-theme
      - papirus-icon-theme
      - gnome-tweaks
    state: present
    update_cache: true
  when: ansible_distribution == "Ubuntu"
  tags:
    - post_install
    - gnome

- name: "[FEDORA] Install several theme packages"
  yum:
    name:
      - arc-theme
      - elementary-icon-theme
      - papirus-icon-theme
      - gnome-tweaks
    state: present
    update_cache: true
  when: ansible_distribution == "Fedora"
  tags:
    - post_install
    - gnome

- import_tasks: gnome.yml
  when: 'GNOME' in ansible_env.XDG_CURRENT_DESKTOP
  tags:
    - post_install
    - post_gnome

- name: "Check if dropbox is synchronized"
  shell: dropbox status
  register: dropbox_response
  tags:
    - post_install
    - post_docker
    - post_crontab
    - post_environment
    - post_git

- import_tasks: docker.yml
  when: dropbox_response.stdout == "Actualizado"
  tags:
    - post_install
    - post_docker

- import_tasks: crontab.yml
  when: dropbox_response.stdout == "Actualizado"
  tags:
    - post_install
    - post_crontab

- import_tasks: environment.yml
  when: dropbox_response.stdout == "Actualizado"
  tags:
    - post_install
    - post_environment
    - post_git

- import_tasks: git.yml
  when: dropbox_response.stdout == "Actualizado"
  tags:
    - post_install
    - post_git

- import_tasks: vpn.yml
  become: true
  become_method: sudo
  tags:
    - post_install
    - post_vpn
